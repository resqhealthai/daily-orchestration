<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Camera Scanner</title>
    <style>
        body { background: #111; color: #0f0; font-family: monospace; padding: 50px; font-size: 24px; }
        h1 { color: #fff; border-bottom: 1px solid #444; padding-bottom: 10px; }
        .device { margin-bottom: 20px; padding: 10px; border: 1px solid #333; }
        .highlight { color: #fff; font-weight: bold; }
    </style>
</head>
<body>
    <h1>System Camera Scanner</h1>
    <div id="list">Scanning devices... allow permissions if asked...</div>

    <script>
        async function scan() {
            const list = document.getElementById('list');
            try {
                // Request permission first
                await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
                
                // Get all devices
                const devices = await navigator.mediaDevices.enumerateDevices();
                const videoDevs = devices.filter(d => d.kind === 'videoinput');
                
                list.innerHTML = "";
                
                if (videoDevs.length === 0) {
                    list.innerHTML = "No cameras found.";
                    return;
                }

                videoDevs.forEach((d, index) => {
                    const div = document.createElement('div');
                    div.className = 'device';
                    div.innerHTML = `
                        <span class="highlight">CAMERA #${index + 1}:</span><br>
                        Label: <strong>"${d.label}"</strong><br>
                        ID: <span style="font-size:0.6em; color:#666;">${d.deviceId}</span>
                    `;
                    list.appendChild(div);
                });

            } catch (err) {
                list.innerHTML = "Error: " + err.message;
            }
        }
        scan();
    </script>
</body>
</html>
